<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8" />
	<title>Twitter Intents</title>
	
	<!-- CSS -->
	<link rel="stylesheet" href="assets/css/gagarin.css" />

</head>

<body class="twitter-intents">

<!-- MARKUP -->

<a href="https://twitter.com/intent/tweet?original_referer=http%3A%2F%2Fwww.nasa.gov&amp;source=tweetbutton&amp;text=Title of article&amp;url=http%3A%2F%2Fwww.nasa.gov&amp;via=NASA" class="button">Share on Twitter</a>
<a href="https://twitter.com/intent/user?screen_name=NASA" class="button">Follow on Twitter</a>

<p><cite>— <a href="https://dev.twitter.com/docs/intents">https://dev.twitter.com/docs/intents</a></cite></p>

<!-- JAVASCRIPT -->
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>

<script>
	$(document).ready(function(){
	if (window.__twitterIntentHandler) return;
  	var intentRegex = /twitter\.com(\:\d{2,4})?\/intent\/(\w+)/,
    	windowOptions = 'scrollbars=yes,resizable=yes,toolbar=no,location=yes',
    	width = 550,
    	height = 420,
    	winHeight = screen.height,
    	winWidth = screen.width;

		function handleIntent(e) {
    		e = e || window.event;
    		var target = e.target || e.srcElement,
    		m, left, top;

			while (target && target.nodeName.toLowerCase() !== 'a') {
				target = target.parentNode;
			}

			if (target && target.nodeName.toLowerCase() === 'a' && target.href) {
      			m = target.href.match(intentRegex);
      			if (m) {
					left = Math.round((winWidth / 2) - (width / 2));
					top = 0;

				if (winHeight > height) {
					top = Math.round((winHeight / 2) - (height / 2));
        	}

        	window.open(target.href, 'intent', windowOptions + ',width=' + width + ',height=' + height + ',left=' + left + ',top=' + top);
			e.returnValue = false;
        	e.preventDefault && e.preventDefault();
      		}
    	}
	}

	if (document.addEventListener) {
  		document.addEventListener('click', handleIntent, false);
	} else if (document.attachEvent) {
  		document.attachEvent('onclick', handleIntent);
	}
  	window.__twitterIntentHandler = true;
}());
</script>

</body>
</html>
